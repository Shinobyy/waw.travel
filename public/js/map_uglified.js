window.initMap=async function(){try{var o={lat:51.5074,lng:.1278},t=new google.maps.Map(document.getElementById("map"),{zoom:2,minZoom:2,center:o,mapId:"fa7b1aadc11c7224",mapTypeId:"satellite",mapTypeControl:!1,fullscreenControl:!1,linksControl:!1,panControl:!1,addressControl:!1,enableCloseButton:!1,scaleControl:!1,navigationControl:!1,streetViewControl:!1});const a=[];if(checkpoints.forEach(o=>{var[e,n]=o.split(",").map(Number);isNaN(e)||isNaN(n)?console.warn("Invalid checkpoint data:",o):(n={lat:e,lng:n},a.push(n),new google.maps.marker.AdvancedMarkerElement({map:t,position:n}))}),1<a.length){const e=new google.maps.Polyline({path:a,geodesic:!1,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:1.5});e.setMap(t)}}catch(o){console.error("Error initializing the map:",o)}},document.addEventListener("turbo:load",function(){document.getElementById("map")&&initMap()});